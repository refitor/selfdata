{"remainingRequest":"/home/jery/Desktop/dev/rshub/product/rsapp/selfdata/web/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/home/jery/Desktop/dev/rshub/product/rsapp/selfdata/web/src/pages/editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jery/Desktop/dev/rshub/product/rsapp/selfdata/web/src/pages/editor.vue","mtime":1652424118192},{"path":"/home/jery/Desktop/dev/rshub/product/rsapp/selfdata/web/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":1651945230823},{"path":"/home/jery/Desktop/dev/rshub/product/rsapp/selfdata/web/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":1651945387533}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFZGl0b3IgZnJvbSAndnVlMngtYWNlLWVkaXRvcic7CmltcG9ydCB7d2ViUmVzcG9uc2V9IGZyb20gJy4uL3Rvb2xjaGFpbi9oZWxwLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJlZGl0b3IiLAogIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbGFuZzogJ3RleHQnLAogICAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgICAgc2hvd0VkaXRvcjogZmFsc2UsCiAgICAgICAgICAgIGV4cGxvcmVyVXJsOiAnJywKCiAgICAgICAgICAgIGZUeXBlOiAnJywKICAgICAgICAgICAgZnJvbTogJycsCiAgICAgICAgICAgIHJlYWRvbmx5OiAnJywKICAgICAgICAgICAgZmlsZVBhdGg6ICcnLAoKICAgICAgICAgICAgZWRpdG9yT3B0aW9uczogeyAgLy8g6K6+572u5Luj56CB57yW6L6R5Zmo55qE5qC35byPCiAgICAgICAgICAgICAgICBlbmFibGVCYXNpY0F1dG9jb21wbGV0aW9uOiB0cnVlLAogICAgICAgICAgICAgICAgZW5hYmxlU25pcHBldHM6IHRydWUsCiAgICAgICAgICAgICAgICBlbmFibGVMaXZlQXV0b2NvbXBsZXRpb246IHRydWUsCiAgICAgICAgICAgICAgICB0YWJTaXplOiAyLAogICAgICAgICAgICAgICAgZm9udFNpemU6IDE2LAogICAgICAgICAgICAgICAgc2hvd1ByaW50TWFyZ2luOiBmYWxzZSAgIC8v5Y676Zmk57yW6L6R5Zmo6YeM55qE56uW57q/CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdDoge30sCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgaWYgKHRoaXMucGFyYW1zICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYXJhbXMgIT09IG51bGwpIHsKICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zWydmcm9tJ10gIT09IHVuZGVmaW5lZCkgdGhpcy5mcm9tID0gdGhpcy5wYXJhbXNbJ2Zyb20nXTsKICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zWydmVHlwZSddICE9PSB1bmRlZmluZWQpIHRoaXMuZlR5cGUgPSB0aGlzLnBhcmFtc1snZlR5cGUnXTsKICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zWydmaWxlUGF0aCddICE9PSB1bmRlZmluZWQpIHRoaXMuZmlsZVBhdGggPSB0aGlzLnBhcmFtc1snZmlsZVBhdGgnXTsKICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zWydyZWFkb25seSddICE9PSB1bmRlZmluZWQpIHRoaXMucmVhZG9ubHkgPSB0aGlzLnBhcmFtc1sncmVhZG9ubHknXTsKICAgICAgICB9CgogICAgICAgIC8vIEluaXRGb290ZXIoKTsgICAKICAgICAgICB0aGlzLnNob3dFZGl0b3IgPSB0aGlzLmZUeXBlLmluZGV4T2YoJ3RleHQvcGxhaW4nKSAhPT0gLTE7ICAgICAKICAgICAgICBpZiAodGhpcy5maWxlUGF0aCAhPT0gJycgJiYgdGhpcy5zaG93RWRpdG9yID09PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBtc2dvYmogPSB0aGlzLiRNZXNzYWdlOyAgICAgICAKICAgICAgICAgICAgbGV0IHVwZGF0ZUNvbnRlbnQgPSB0aGlzLnVwZGF0ZUNvbnRlbnQ7CiAgICAgICAgICAgIGxldCBnZXRVcmwgPSAiL2FwaS9maWxlL3ZpZXc/cmVhZG9ubHk9IiArIHRoaXMucmVhZG9ubHkgKyAiJmZpbGVwYXRoPSIgKyB0aGlzLmZpbGVQYXRoICsgIiZmdHlwZT0iICsgdGhpcy5mVHlwZSArICcmZnJvbT0nICsgdGhpcy5mcm9tOwogICAgICAgICAgICB0aGlzLmh0dHBHZXQoZ2V0VXJsLCBmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICB1cGRhdGVDb250ZW50KHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSAKICAgICAgICBpZiAodGhpcy5maWxlUGF0aCAhPT0gJycgJiYgdGhpcy5zaG93RWRpdG9yID09PSBmYWxzZSkgewogICAgICAgICAgICBsZXQgZXhwbG9yZXJVcmwgPSAnL2FwaS9maWxlL3ZpZXc/cmVhZG9ubHk9dHJ1ZSZmaWxlcGF0aD0nICsgdGhpcy5maWxlUGF0aCArICImZnR5cGU9IiArIHRoaXMuZlR5cGUgKyAnJmZyb209JyArIHRoaXMuZnJvbTsKICAgICAgICAgICAgdGhpcy5leHBsb3JlclVybCA9IGV4cGxvcmVyVXJsOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaXNJbWcoKXsKICAgICAgICAgICAgbGV0IGlzVmlkZW8gPSB0aGlzLmZpbGVQYXRoLmluZGV4T2YoJy5tcDQnKSA+IDAgfHwgbmFtZS5pbmRleE9mKCcubW92JykgPiAwOwogICAgICAgICAgICBsZXQgaXNBdWRpbyA9IHRoaXMuZmlsZVBhdGguaW5kZXhPZignLm1wMycpID4gMCB8fCBuYW1lLmluZGV4T2YoJy53YXYnKSA+IDA7CiAgICAgICAgICAgIGxldCBpc0ltZyA9IHRoaXMuZmlsZVBhdGguaW5kZXhPZignLnBuZycpID4gMCB8fCB0aGlzLmZpbGVQYXRoLmluZGV4T2YoJy5qcGcnKSA+IDAgfHwgdGhpcy5maWxlUGF0aC5pbmRleE9mKCcuanBlZycpID4gMCB8fCB0aGlzLmZpbGVQYXRoLmluZGV4T2YoJy5naWYnKSA+IDAgfHwgdGhpcy5maWxlUGF0aC5pbmRleE9mKCcuYm1wJykgPiAwOwogICAgICAgICAgICByZXR1cm4gaXNJbWcgfHwgaXNWaWRlbyB8fCBpc0F1ZGlvOwogICAgICAgIH0sCiAgICAgICAgZ2V0RmlsZVR5cGUoZmlsZW5hbWUpewogICAgICAgICAgICBpZighZmlsZW5hbWUgfHwgdHlwZW9mIGZpbGVuYW1lICE9ICdzdHJpbmcnKXsKICAgICAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgICAgICB9OwogICAgICAgICAgICBsZXQgYSA9IGZpbGVuYW1lLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7CiAgICAgICAgICAgIGxldCBiID0gYS5zdWJzdHJpbmcoMCxhLnNlYXJjaCgvXC4vKSkuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTsKICAgICAgICAgICAgcmV0dXJuIGIKICAgICAgICB9LAogICAgICAgIHBhZ2VXaWR0aCgpeyAvL+WHveaVsO+8muiOt+WPluWwuuWvuAogICAgICAgICAgICAvL+iOt+WPlua1j+iniOWZqOeql+WPo+mrmOW6pgogICAgICAgICAgICB2YXIgd2luV2lkdGg9MDsKICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoKXsKICAgICAgICAgICAgICAgIHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoKGRvY3VtZW50LmJvZHkpICYmIChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSl7CiAgICAgICAgICAgICAgICB3aW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy/pgJrov4fmt7HlhaVEb2N1bWVudOWGhemDqOWvuWJvZHnov5vooYzmo4DmtYvvvIzojrflj5bmtY/op4jlmajnqpflj6Ppq5jluqYKICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpewogICAgICAgICAgICAgICAgd2luV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9ESVbpq5jluqbkuLrmtY/op4jlmajnqpflj6PnmoTpq5jluqYKICAgICAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdCIpLnN0eWxlLmhlaWdodD0gd2luSGVpZ2h0ICsicHgiOwogICAgICAgICAgICAvL0RJVumrmOW6puS4uua1j+iniOWZqOeql+WPo+mrmOW6pueahOS4gOWNigogICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdCIpLnN0eWxlLmhlaWdodD0gd2luSGVpZ2h0LzIgKyJweCI7CiAgICAgICAgICAgIHJldHVybiB3aW5XaWR0aDsKICAgICAgIH0sCiAgICAgICAgcGFnZUhlaWdodCgpeyAvL+WHveaVsO+8muiOt+WPluWwuuWvuAogICAgICAgICAgICAvL+iOt+WPlua1j+iniOWZqOeql+WPo+mrmOW6pgogICAgICAgICAgICB2YXIgd2luSGVpZ2h0PTA7CiAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQpewogICAgICAgICAgICAgICAgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKChkb2N1bWVudC5ib2R5KSAmJiAoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpKXsKICAgICAgICAgICAgICAgIHdpbkhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v6YCa6L+H5rex5YWlRG9jdW1lbnTlhoXpg6jlr7lib2R56L+b6KGM5qOA5rWL77yM6I635Y+W5rWP6KeI5Zmo56qX5Y+j6auY5bqmCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCl7CiAgICAgICAgICAgICAgICB3aW5IZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vRElW6auY5bqm5Li65rWP6KeI5Zmo56qX5Y+j55qE6auY5bqmCiAgICAgICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QiKS5zdHlsZS5oZWlnaHQ9IHdpbkhlaWdodCArInB4IjsKICAgICAgICAgICAgLy9ESVbpq5jluqbkuLrmtY/op4jlmajnqpflj6Ppq5jluqbnmoTkuIDljYoKICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QiKS5zdHlsZS5oZWlnaHQ9IHdpbkhlaWdodC8yICsicHgiOwogICAgICAgICAgICByZXR1cm4gd2luSGVpZ2h0OwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlQ29udGVudChkYXRhKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YoZGF0YSkgIT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IGRhdGE7CiAgICAgICAgfSwKICAgICAgICBnZXRDb250ZW50KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kcmVmcy5maWxlRWRpdG9yLmdldFZhbHVlKCk7CiAgICAgICAgfSwKICAgICAgICBlZGl0b3JJbml0KCkgewogICAgICAgICAgICByZXF1aXJlKCJicmFjZS9leHQvbGFuZ3VhZ2VfdG9vbHMiKTsKICAgICAgICAgICAgcmVxdWlyZShgYnJhY2UvbW9kZS90ZXh0YCk7CiAgICAgICAgICAgIHJlcXVpcmUoYGJyYWNlL3NuaXBwZXRzL3RleHRgKTsKICAgICAgICAgICAgcmVxdWlyZShgYnJhY2UvdGhlbWUvY2hyb21lYCk7CiAgICAgICAgICAgIAogICAgICAgICAgICByZXF1aXJlKCdicmFjZS9tb2RlL2pzb24nKSAgICAvL2xhbmd1YWdlCiAgICAgICAgICAgIHJlcXVpcmUoJ2JyYWNlL21vZGUvbGVzcycpCiAgICAgICAgICAgIHJlcXVpcmUoJ2JyYWNlL21vZGUveWFtbCcpCiAgICAgICAgICAgIHJlcXVpcmUoJ2JyYWNlL3NuaXBwZXRzL2pzb24nKSAvL3NuaXBwZXQKICAgICAgICB9LAogICAgICAgIGVkaXRvckNoYW5nZShlZGl0b3IpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImNoYW5nZWQiLCBlZGl0b3IuZ2V0VmFsdWUoKSk7CiAgICAgICAgfSwKICAgICAgICBlZGl0b3JJbnB1dChlZGl0b3IpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImlucHV0IiwgZWRpdG9yLmdldFZhbHVlKCkpOwogICAgICAgIH0sCiAgICAgICAgZWRpdG9yRm9jdXMoZWRpdG9yKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJmb2N1cyIsIGVkaXRvcik7CiAgICAgICAgfSwKICAgICAgICBlZGl0b3JCbHVyKGVkaXRvcikgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiYmx1ciIsIGVkaXRvcik7CiAgICAgICAgfSwKICAgICAgICBlZGl0b3JQYXN0ZShlZGl0b3IpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInBhc2UiLCBlZGl0b3IpOwogICAgICAgIH0sCiAgICAgICAgaHR0cEdldCh1cmwsIG9uUmVzcG9uc2UsIG9uUGFuaWMpIHsKICAgICAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KHVybCkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAob25SZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIG9uUmVzcG9uc2UgIT09IG51bGwpIG9uUmVzcG9uc2UocmVzcG9uc2UpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAob25QYW5pYyAhPT0gdW5kZWZpbmVkICYmIG9uUGFuaWMgIT09IG51bGwpIG9uUGFuaWMocmVzcG9uc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGh0dHBQb3N0KHVybCwgZm9ybWRhdGEsIG9uUmVzcG9uc2UsIG9uUGFuaWMpIHsKICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCh1cmwsIGZvcm1kYXRhKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChvblJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgb25SZXNwb25zZSAhPT0gbnVsbCkgb25SZXNwb25zZShyZXNwb25zZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChvblBhbmljICE9PSB1bmRlZmluZWQgJiYgb25QYW5pYyAhPT0gbnVsbCkgb25QYW5pYyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOnsKICAgICAgICBFZGl0b3IKICAgIH0KfTsK"},{"version":3,"sources":["editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editor.vue","sourceRoot":"src/pages","sourcesContent":["<style lang=\"less\">\n.explorer{\n    background-color: #ebe9e7;\n}\n</style>\n<template>\n  <div>\n    <!-- <span style=\"top: 20px; position: absolute; color: #fc3b00;\">{{$t('lang.editorNotify')}}</span> -->\n    <Editor v-show=\"showEditor === true\" ref=\"fileEditor\"\n      :content=\"content\"\n      :fontSize=\"14\"\n      :height=\"pageHeight() - 91 + 'px'\"\n      :lang=\"lang\"\n      theme=\"chrome\"\n      :width=\"pageWidth()\"\n      :options=\"editorOptions\"\n      :readonly=\"readonly === 'true'\"\n      @init=\"editorInit\"\n      @onChange=\"editorChange\"\n      @onInput=\"editorInput\"\n      @onFocus=\"editorFocus\"\n      @onBlur=\"editorBlur\"\n      @onPaste=\"editorPaste\"\n    ></Editor>\n    <object class=\"explorer\" v-if=\"showEditor === false\" :data=\"explorerUrl\" :width=\"pageWidth()\" :height=\"pageHeight() - 70 + 'px'\" />\n  </div>\n</template>\n\n<script>\nimport Editor from 'vue2x-ace-editor';\nimport {webResponse} from '../toolchain/help.js';\nexport default {\n  name: \"editor\",\n  data() {\n        return {\n            lang: 'text',\n            content: '',\n            showEditor: false,\n            explorerUrl: '',\n\n            fType: '',\n            from: '',\n            readonly: '',\n            filePath: '',\n\n            editorOptions: {  // 设置代码编辑器的样式\n                enableBasicAutocompletion: true,\n                enableSnippets: true,\n                enableLiveAutocompletion: true,\n                tabSize: 2,\n                fontSize: 16,\n                showPrintMargin: false   //去除编辑器里的竖线\n            }\n        };\n    },\n    props: {\n        params: {\n            type: Object,\n            default: {},\n        }\n    },\n    mounted() {\n        if (this.params !== undefined && this.params !== null) {\n            if (this.params['from'] !== undefined) this.from = this.params['from'];\n            if (this.params['fType'] !== undefined) this.fType = this.params['fType'];\n            if (this.params['filePath'] !== undefined) this.filePath = this.params['filePath'];\n            if (this.params['readonly'] !== undefined) this.readonly = this.params['readonly'];\n        }\n\n        // InitFooter();   \n        this.showEditor = this.fType.indexOf('text/plain') !== -1;     \n        if (this.filePath !== '' && this.showEditor === true) {\n            var msgobj = this.$Message;       \n            let updateContent = this.updateContent;\n            let getUrl = \"/api/file/view?readonly=\" + this.readonly + \"&filepath=\" + this.filePath + \"&ftype=\" + this.fType + '&from=' + this.from;\n            this.httpGet(getUrl, function(response){\n                updateContent(response.data)\n            })\n        } \n        if (this.filePath !== '' && this.showEditor === false) {\n            let explorerUrl = '/api/file/view?readonly=true&filepath=' + this.filePath + \"&ftype=\" + this.fType + '&from=' + this.from;\n            this.explorerUrl = explorerUrl;\n        }\n    },\n    methods: {\n        isImg(){\n            let isVideo = this.filePath.indexOf('.mp4') > 0 || name.indexOf('.mov') > 0;\n            let isAudio = this.filePath.indexOf('.mp3') > 0 || name.indexOf('.wav') > 0;\n            let isImg = this.filePath.indexOf('.png') > 0 || this.filePath.indexOf('.jpg') > 0 || this.filePath.indexOf('.jpeg') > 0 || this.filePath.indexOf('.gif') > 0 || this.filePath.indexOf('.bmp') > 0;\n            return isImg || isVideo || isAudio;\n        },\n        getFileType(filename){\n            if(!filename || typeof filename != 'string'){\n                return ''\n            };\n            let a = filename.split('').reverse().join('');\n            let b = a.substring(0,a.search(/\\./)).split('').reverse().join('');\n            return b\n        },\n        pageWidth(){ //函数：获取尺寸\n            //获取浏览器窗口高度\n            var winWidth=0;\n            if (window.innerWidth){\n                winWidth = window.innerWidth;\n            }\n            else if ((document.body) && (document.body.clientWidth)){\n                winWidth = document.body.clientWidth;\n            }\n            //通过深入Document内部对body进行检测，获取浏览器窗口高度\n            if (document.documentElement && document.documentElement.clientWidth){\n                winWidth = document.documentElement.clientWidth;\n            }\n            //DIV高度为浏览器窗口的高度\n            //document.getElementById(\"test\").style.height= winHeight +\"px\";\n            //DIV高度为浏览器窗口高度的一半\n            // document.getElementById(\"test\").style.height= winHeight/2 +\"px\";\n            return winWidth;\n       },\n        pageHeight(){ //函数：获取尺寸\n            //获取浏览器窗口高度\n            var winHeight=0;\n            if (window.innerHeight){\n                winHeight = window.innerHeight;\n            }\n            else if ((document.body) && (document.body.clientHeight)){\n                winHeight = document.body.clientHeight;\n            }\n            //通过深入Document内部对body进行检测，获取浏览器窗口高度\n            if (document.documentElement && document.documentElement.clientHeight){\n                winHeight = document.documentElement.clientHeight;\n            }\n            //DIV高度为浏览器窗口的高度\n            //document.getElementById(\"test\").style.height= winHeight +\"px\";\n            //DIV高度为浏览器窗口高度的一半\n            // document.getElementById(\"test\").style.height= winHeight/2 +\"px\";\n            return winHeight;\n        },\n        updateContent(data) {\n            if (typeof(data) != 'string') {\n                data = JSON.stringify(data, null, 2)\n            }\n            this.content = data;\n        },\n        getContent() {\n            return this.$refs.fileEditor.getValue();\n        },\n        editorInit() {\n            require(\"brace/ext/language_tools\");\n            require(`brace/mode/text`);\n            require(`brace/snippets/text`);\n            require(`brace/theme/chrome`);\n            \n            require('brace/mode/json')    //language\n            require('brace/mode/less')\n            require('brace/mode/yaml')\n            require('brace/snippets/json') //snippet\n        },\n        editorChange(editor) {\n            // console.log(\"changed\", editor.getValue());\n        },\n        editorInput(editor) {\n            // console.log(\"input\", editor.getValue());\n        },\n        editorFocus(editor) {\n            // console.log(\"focus\", editor);\n        },\n        editorBlur(editor) {\n            // console.log(\"blur\", editor);\n        },\n        editorPaste(editor) {\n            // console.log(\"pase\", editor);\n        },\n        httpGet(url, onResponse, onPanic) {\n            this.$axios.get(url)\n            .then(function (response) {\n                if (onResponse !== undefined && onResponse !== null) onResponse(response);\n            })\n            .catch(function (response) {\n                if (onPanic !== undefined && onPanic !== null) onPanic(response);\n            });\n        },\n        httpPost(url, formdata, onResponse, onPanic) {\n            this.$axios.post(url, formdata)\n            .then(function (response) {\n                if (onResponse !== undefined && onResponse !== null) onResponse(response);\n            })\n            .catch(function (response) {\n                if (onPanic !== undefined && onPanic !== null) onPanic(response);\n            });\n        }\n    },\n    components:{\n        Editor\n    }\n};\n</script>"]}]}