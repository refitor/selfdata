{"version":3,"file":"index.js","sources":["../../../../node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","../src/component.jsx","../../../../packages/utils/lib/toarray.js","../../../../packages/utils/lib/slot.js"],"sourcesContent":["\"use strict\";function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h)}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","import toArray from '@form-create/utils/lib/toarray';\nimport getSlot from '@form-create/utils/lib/slot';\n\nconst NAME = 'fcTree';\n\nexport default {\n    name: NAME,\n    props: {\n        formCreateInject: {\n            type: Object,\n            required: true,\n        },\n        type: {\n            type: String,\n            default: 'checked'\n        },\n        value: {\n            type: [Array, String, Number],\n            default: () => []\n        }\n    },\n    data() {\n        return {\n            treeData: []\n        }\n    },\n    watch: {\n        value(n) {\n            this.setStatus(n);\n        }\n    },\n    created() {\n        this.setStatus(this.value);\n    },\n    methods: {\n        setStatus(value) {\n            const n = toArray(value);\n            const data = this.formCreateInject.prop.props.data;\n            this.type === 'selected' ? this.checked(data, n, 'selected') : this.checked(data, n, 'checked');\n            this.$forceUpdate();\n        },\n        checked(_data, value, type) {\n            _data.forEach((node) => {\n                this.$set(node, type, value.indexOf(node.id) !== -1);\n                if (node.children !== undefined && Array.isArray(node.children))\n                    this.checked(node.children, value, type);\n            });\n        },\n        onInput(list) {\n            this.$emit('input', list.map(node => node.id));\n        }\n    },\n    render() {\n        const on = {};\n        if (this.type === 'selected') {\n            on['on-select-change'] = this.onInput;\n        } else {\n            on['on-check-change'] = this.onInput;\n        }\n        return <Tree {...this.formCreateInject.prop} ref=\"tree\" on={on}>{getSlot(this.$slots)}</Tree>;\n    }\n}\n","export default function toArray(value) {\n    return Array.isArray(value)\n        ? value\n        : ([null, undefined, ''].indexOf(value) > -1 ? [] : [value]);\n}\n","export default function getSlot(slots, exclude) {\n    return Object.keys(slots).reduce((lst, name) => {\n        if (!exclude || exclude.indexOf(name) === -1) {\n            lst.push(slots[name])\n        }\n        return lst;\n    }, [])\n}"],"names":["_extends","Object","assign","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","this","normalMerge","toArrayMerge","functionalMerge","mergeFn","reduce","indexOf","Array","e","concat","f","g","h","i","name","props","formCreateInject","type","required","String","value","Number","data","treeData","watch","n","setStatus","created","methods","isArray","undefined","toArray","prop","checked","$forceUpdate","_data","forEach","node","_this","$set","id","children","onInput","list","$emit","map","render","slots","exclude","on","$slots","keys","lst","push"],"mappings":"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"}